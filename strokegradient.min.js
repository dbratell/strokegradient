"use strict";const makePathGradient=function(){function t(t,r,c,i){const h=u(t,r),l=u(r,c);let f=[t[0]+h[0]*i,t[1]+h[1]*i],a=[r[0]+h[0]*i,r[1]+h[1]*i],p=[r[0]+l[0]*i,r[1]+l[1]*i],d=[c[0]+l[0]*i,c[1]+l[1]*i];if(p[0]!=a[0]||p[1]!=a[1]){const h=s(f,a,p,d),l=e(r,h),g=2*i;let M=!1;const v=e(t,r),y=e(r,c);if((Math.atan2(y[0],y[1])-Math.atan2(v[0],v[1])+2*Math.PI)%(2*Math.PI)-Math.PI<0){M=n(l)>g}if(M){const t=o(l),n=[r[0]+t[0]*g,r[1]+t[1]*g],e=u(r,n);return[f,s(f,a,n,[n[0]+e[0],n[1]+e[1]]),n,s(d,p,n,[n[0]+e[0],n[1]+e[1]]),d]}return[f,h,d]}return[f,p,d]}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function e(t,n){return[n[0]-t[0],n[1]-t[1]]}function o(t){const e=n(t);return[t[0]/e,t[1]/e]}function s(t,n,e,o){const s=e[0],u=t[0],r=o[0]-s,c=n[0]-u,i=e[1],h=t[1],l=o[1]-i,f=n[1]-h,a=(c*(i-h)-f*(s-u))/(f*r-c*l);return[s+a*r,i+a*l]}function u(t,n){return o([t[1]-n[1],n[0]-t[0]])}return function(o,s,r,c,i,h,l){if(void 0===window.d3)throw"Requires d3.js to be loaded";const f=d3.select(o),a=d3.select(s);f.style("display","none");const p=function(t,n){const e=t.getTotalLength(),o=[],s=Math.floor(e/n)+1;for(let t=0;t<s;t++)o.push(t*e/s);return(s-1)*n<e&&o.push(e),o.map(function(n){const o=t.getPointAtLength(n),s=[o.x,o.y];return s.t=n/e,s})}(o,c),d=c/1e3,g=n(e(p[0],p[p.length-1]))<d,M=a.selectAll("path").data(function(t,n){const e=t.length-1,o=n?t[t.length-2]:void 0,s=n?t[1]:void 0;return d3.range(e).map(function(n){const e=[n>0?t[n-1]:o,t[n],t[n+1],n+2<t.length?t[n+2]:s];return e.t=(t[n].t+t[n+1].t)/2,e})}(p,g)).join("path").style("fill",l?"none":function(t){return r(t.t)}).attr("d",function(n){return function(n,e,o,s,r){const c=u(e,o),i=r/2,h=[];if(n){const s=t(n,e,o,i);3==s.length?h.push(s[1]):(h.push(s[2]),h.push(s[3]))}else{const t=[e[0]+c[0]*i,e[1]+c[1]*i];h.push(t)}if(s){const n=t(e,o,s,i);3==n.length?h.push(n[1]):(h.push(n[1]),h.push(n[2]));const u=t(s,o,e,i);3==u.length?h.push(u[1]):(h.push(u[2]),h.push(u[3]))}else{const t=[o[0]+c[0]*i,o[1]+c[1]*i],n=[o[0]-c[0]*i,o[1]-c[1]*i];h.push(t),h.push(n)}if(n){const s=t(o,e,n,i);3==s.length?h.push(s[1]):(h.push(s[1]),h.push(s[2]))}else{const t=[e[0]-c[0]*i,e[1]-c[1]*i];h.push(t)}let l=void 0;for(let t of h)void 0===l?l="M":l+="L",l+=t;return l+="Z"}(n[0],n[1],n[2],n[3],i)});h&&M.style("stroke",h?function(t){return r(t.t)}:"none").style("stroke-width",1/window.devicePixelRatio+"px").style("vector-effect","non-scaling-stroke")}}();